{"version":3,"sources":["../../../../../modules/@angular/core/src/view/text.ts"],"names":[],"mappings":"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","file":"text.js","sourceRoot":"","sourcesContent":["/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {isDevMode} from '../application_ref';\nimport {looseIdentical} from '../facade/lang';\n\nimport {BindingDef, BindingType, DebugContext, NodeData, NodeDef, NodeFlags, NodeType, RootData, Services, TextData, ViewData, ViewFlags, asElementData, asTextData} from './types';\nimport {checkAndUpdateBinding, getParentRenderElement, sliceErrorStack} from './util';\n/**\n * @param {?} ngContentIndex\n * @param {?} constants\n * @return {?}\n */\nexport function textDef(ngContentIndex: number, constants: string[]): NodeDef {\n  // skip the call to sliceErrorStack itself + the call to this function.\n  const /** @type {?} */ source = isDevMode() ? sliceErrorStack(2, 3) : '';\n  const /** @type {?} */ bindings: BindingDef[] = new Array(constants.length - 1);\n  for (let /** @type {?} */ i = 1; i < constants.length; i++) {\n    bindings[i - 1] = {\n      type: BindingType.TextInterpolation,\n      name: undefined,\n      ns: undefined,\n      nonMinifiedName: undefined,\n      securityContext: undefined,\n      suffix: constants[i]\n    };\n  }\n  return {\n    type: NodeType.Text,\n    // will bet set by the view definition\n    index: undefined,\n    reverseChildIndex: undefined,\n    parent: undefined,\n    renderParent: undefined,\n    bindingIndex: undefined,\n    disposableIndex: undefined,\n    // regular values\n    flags: 0,\n    childFlags: 0,\n    childMatchedQueries: 0,\n    matchedQueries: {},\n    matchedQueryIds: 0,\n    references: {}, ngContentIndex,\n    childCount: 0, bindings,\n    disposableCount: 0,\n    element: undefined,\n    provider: undefined,\n    text: {prefix: constants[0], source},\n    pureExpression: undefined,\n    query: undefined,\n    ngContent: undefined\n  };\n}\n/**\n * @param {?} view\n * @param {?} renderHost\n * @param {?} def\n * @return {?}\n */\nexport function createText(view: ViewData, renderHost: any, def: NodeDef): TextData {\n  let /** @type {?} */ renderNode: any;\n  const /** @type {?} */ renderer = view.renderer;\n  renderNode = renderer.createText(def.text.prefix);\n  const /** @type {?} */ parentEl = getParentRenderElement(view, renderHost, def);\n  if (parentEl) {\n    renderer.appendChild(parentEl, renderNode);\n  }\n  return {renderText: renderNode};\n}\n/**\n * @param {?} view\n * @param {?} def\n * @param {?} v0\n * @param {?} v1\n * @param {?} v2\n * @param {?} v3\n * @param {?} v4\n * @param {?} v5\n * @param {?} v6\n * @param {?} v7\n * @param {?} v8\n * @param {?} v9\n * @return {?}\n */\nexport function checkAndUpdateTextInline(\n    view: ViewData, def: NodeDef, v0: any, v1: any, v2: any, v3: any, v4: any, v5: any, v6: any,\n    v7: any, v8: any, v9: any) {\n  const /** @type {?} */ bindings = def.bindings;\n  let /** @type {?} */ changed = false;\n  // Note: fallthrough is intended!\n  switch (bindings.length) {\n    case 10:\n      if (checkAndUpdateBinding(view, def, 9, v9)) changed = true;\n    case 9:\n      if (checkAndUpdateBinding(view, def, 8, v8)) changed = true;\n    case 8:\n      if (checkAndUpdateBinding(view, def, 7, v7)) changed = true;\n    case 7:\n      if (checkAndUpdateBinding(view, def, 6, v6)) changed = true;\n    case 6:\n      if (checkAndUpdateBinding(view, def, 5, v5)) changed = true;\n    case 5:\n      if (checkAndUpdateBinding(view, def, 4, v4)) changed = true;\n    case 4:\n      if (checkAndUpdateBinding(view, def, 3, v3)) changed = true;\n    case 3:\n      if (checkAndUpdateBinding(view, def, 2, v2)) changed = true;\n    case 2:\n      if (checkAndUpdateBinding(view, def, 1, v1)) changed = true;\n    case 1:\n      if (checkAndUpdateBinding(view, def, 0, v0)) changed = true;\n  }\n\n  if (changed) {\n    let /** @type {?} */ value = '';\n    // Note: fallthrough is intended!\n    switch (bindings.length) {\n      case 10:\n        value = _addInterpolationPart(v9, bindings[9]);\n      case 9:\n        value = _addInterpolationPart(v8, bindings[8]) + value;\n      case 8:\n        value = _addInterpolationPart(v7, bindings[7]) + value;\n      case 7:\n        value = _addInterpolationPart(v6, bindings[6]) + value;\n      case 6:\n        value = _addInterpolationPart(v5, bindings[5]) + value;\n      case 5:\n        value = _addInterpolationPart(v4, bindings[4]) + value;\n      case 4:\n        value = _addInterpolationPart(v3, bindings[3]) + value;\n      case 3:\n        value = _addInterpolationPart(v2, bindings[2]) + value;\n      case 2:\n        value = _addInterpolationPart(v1, bindings[1]) + value;\n      case 1:\n        value = _addInterpolationPart(v0, bindings[0]) + value;\n    }\n    value = def.text.prefix + value;\n    const /** @type {?} */ renderNode = asTextData(view, def.index).renderText;\n    view.renderer.setValue(renderNode, value);\n  }\n}\n/**\n * @param {?} view\n * @param {?} def\n * @param {?} values\n * @return {?}\n */\nexport function checkAndUpdateTextDynamic(view: ViewData, def: NodeDef, values: any[]) {\n  const /** @type {?} */ bindings = def.bindings;\n  let /** @type {?} */ changed = false;\n  for (let /** @type {?} */ i = 0; i < values.length; i++) {\n    // Note: We need to loop over all values, so that\n    // the old values are updates as well!\n    if (checkAndUpdateBinding(view, def, i, values[i])) {\n      changed = true;\n    }\n  }\n  if (changed) {\n    let /** @type {?} */ value = '';\n    for (let /** @type {?} */ i = 0; i < values.length; i++) {\n      value = value + _addInterpolationPart(values[i], bindings[i]);\n    }\n    value = def.text.prefix + value;\n    const /** @type {?} */ renderNode = asTextData(view, def.index).renderText;\n    view.renderer.setValue(renderNode, value);\n  }\n}\n/**\n * @param {?} value\n * @param {?} binding\n * @return {?}\n */\nfunction _addInterpolationPart(value: any, binding: BindingDef): string {\n  const /** @type {?} */ valueStr = value != null ? value.toString() : '';\n  return valueStr + binding.suffix;\n}\n"]}