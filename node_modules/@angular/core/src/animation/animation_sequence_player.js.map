{"version":3,"sources":["../../../../../modules/@angular/core/src/animation/animation_sequence_player.ts"],"names":[],"mappings":"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","file":"animation_sequence_player.js","sourceRoot":"","sourcesContent":["/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {isPresent, scheduleMicroTask} from '../facade/lang';\n\nimport {AnimationPlayer, NoOpAnimationPlayer} from './animation_player';\nexport class AnimationSequencePlayer implements AnimationPlayer {\nprivate _currentIndex: number = 0;\nprivate _activePlayer: AnimationPlayer;\nprivate _onDoneFns: Function[] = [];\nprivate _onStartFns: Function[] = [];\nprivate _onDestroyFns: Function[] = [];\nprivate _finished = false;\nprivate _started = false;\nprivate _destroyed = false;\npublic parentPlayer: AnimationPlayer = null;\n/**\n * @param {?} _players\n */\nconstructor(private _players: AnimationPlayer[]) {\n    this._players.forEach(player => { player.parentPlayer = this; });\n    this._onNext(false);\n  }\n/**\n * @param {?} start\n * @return {?}\n */\nprivate _onNext(start: boolean) {\n    if (this._finished) return;\n\n    if (this._players.length == 0) {\n      this._activePlayer = new NoOpAnimationPlayer();\n      scheduleMicroTask(() => this._onFinish());\n    } else if (this._currentIndex >= this._players.length) {\n      this._activePlayer = new NoOpAnimationPlayer();\n      this._onFinish();\n    } else {\n      const /** @type {?} */ player = this._players[this._currentIndex++];\n      player.onDone(() => this._onNext(true));\n\n      this._activePlayer = player;\n      if (start) {\n        player.play();\n      }\n    }\n  }\n/**\n * @return {?}\n */\nprivate _onFinish() {\n    if (!this._finished) {\n      this._finished = true;\n      this._onDoneFns.forEach(fn => fn());\n      this._onDoneFns = [];\n    }\n  }\n/**\n * @return {?}\n */\ninit(): void { this._players.forEach(player => player.init()); }\n/**\n * @param {?} fn\n * @return {?}\n */\nonStart(fn: () => void): void { this._onStartFns.push(fn); }\n/**\n * @param {?} fn\n * @return {?}\n */\nonDone(fn: () => void): void { this._onDoneFns.push(fn); }\n/**\n * @param {?} fn\n * @return {?}\n */\nonDestroy(fn: () => void): void { this._onDestroyFns.push(fn); }\n/**\n * @return {?}\n */\nhasStarted() { return this._started; }\n/**\n * @return {?}\n */\nplay(): void {\n    if (!isPresent(this.parentPlayer)) {\n      this.init();\n    }\n    if (!this.hasStarted()) {\n      this._onStartFns.forEach(fn => fn());\n      this._onStartFns = [];\n      this._started = true;\n    }\n    this._activePlayer.play();\n  }\n/**\n * @return {?}\n */\npause(): void { this._activePlayer.pause(); }\n/**\n * @return {?}\n */\nrestart(): void {\n    this.reset();\n    if (this._players.length > 0) {\n      this._players[0].restart();\n    }\n  }\n/**\n * @return {?}\n */\nreset(): void {\n    this._players.forEach(player => player.reset());\n    this._destroyed = false;\n    this._finished = false;\n    this._started = false;\n  }\n/**\n * @return {?}\n */\nfinish(): void {\n    this._onFinish();\n    this._players.forEach(player => player.finish());\n  }\n/**\n * @return {?}\n */\ndestroy(): void {\n    if (!this._destroyed) {\n      this._onFinish();\n      this._players.forEach(player => player.destroy());\n      this._destroyed = true;\n      this._activePlayer = new NoOpAnimationPlayer();\n      this._onDestroyFns.forEach(fn => fn());\n      this._onDestroyFns = [];\n    }\n  }\n/**\n * @param {?} p\n * @return {?}\n */\nsetPosition(p: number): void { this._players[0].setPosition(p); }\n/**\n * @return {?}\n */\ngetPosition(): number { return this._players[0].getPosition(); }\n/**\n * @return {?}\n */\nget players(): AnimationPlayer[] { return this._players; }\n}\n\nfunction AnimationSequencePlayer_tsickle_Closure_declarations() {\n/** @type {?} */\nAnimationSequencePlayer.prototype._currentIndex;\n/** @type {?} */\nAnimationSequencePlayer.prototype._activePlayer;\n/** @type {?} */\nAnimationSequencePlayer.prototype._onDoneFns;\n/** @type {?} */\nAnimationSequencePlayer.prototype._onStartFns;\n/** @type {?} */\nAnimationSequencePlayer.prototype._onDestroyFns;\n/** @type {?} */\nAnimationSequencePlayer.prototype._finished;\n/** @type {?} */\nAnimationSequencePlayer.prototype._started;\n/** @type {?} */\nAnimationSequencePlayer.prototype._destroyed;\n/** @type {?} */\nAnimationSequencePlayer.prototype.parentPlayer;\n/** @type {?} */\nAnimationSequencePlayer.prototype._players;\n}\n\n"]}